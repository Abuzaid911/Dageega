"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/posts/route";
exports.ids = ["app/api/posts/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fposts%2Froute&page=%2Fapi%2Fposts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fposts%2Froute.ts&appDir=%2FUsers%2Fabuzaid%2FDesktop%2F1m%2Fone-minute%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fabuzaid%2FDesktop%2F1m%2Fone-minute&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fposts%2Froute&page=%2Fapi%2Fposts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fposts%2Froute.ts&appDir=%2FUsers%2Fabuzaid%2FDesktop%2F1m%2Fone-minute%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fabuzaid%2FDesktop%2F1m%2Fone-minute&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_abuzaid_Desktop_1m_one_minute_src_app_api_posts_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/posts/route.ts */ \"(rsc)/./src/app/api/posts/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/posts/route\",\n        pathname: \"/api/posts\",\n        filename: \"route\",\n        bundlePath: \"app/api/posts/route\"\n    },\n    resolvedPagePath: \"/Users/abuzaid/Desktop/1m/one-minute/src/app/api/posts/route.ts\",\n    nextConfigOutput,\n    userland: _Users_abuzaid_Desktop_1m_one_minute_src_app_api_posts_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/posts/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwb3N0cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcG9zdHMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZwb3N0cyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmFidXphaWQlMkZEZXNrdG9wJTJGMW0lMkZvbmUtbWludXRlJTJGc3JjJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRmFidXphaWQlMkZEZXNrdG9wJTJGMW0lMkZvbmUtbWludXRlJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNlO0FBQzVGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb25lLW1pbnV0ZS8/MjhlZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvYWJ1emFpZC9EZXNrdG9wLzFtL29uZS1taW51dGUvc3JjL2FwcC9hcGkvcG9zdHMvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3Bvc3RzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcG9zdHNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3Bvc3RzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL2FidXphaWQvRGVza3RvcC8xbS9vbmUtbWludXRlL3NyYy9hcHAvYXBpL3Bvc3RzL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9wb3N0cy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fposts%2Froute&page=%2Fapi%2Fposts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fposts%2Froute.ts&appDir=%2FUsers%2Fabuzaid%2FDesktop%2F1m%2Fone-minute%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fabuzaid%2FDesktop%2F1m%2Fone-minute&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/posts/route.ts":
/*!************************************!*\
  !*** ./src/app/api/posts/route.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n\nconst normalize = (value)=>value ? value.toLowerCase() : null;\nconst mapPlatform = (platform)=>{\n    const normalized = platform.toLowerCase();\n    if (normalized === \"x\" || normalized === \"twitter\") return \"x\";\n    if (normalized === \"yt\" || normalized === \"youtube\") return \"yt\";\n    if (normalized === \"ig\" || normalized === \"instagram\") return \"ig\";\n    if (normalized === \"fb\" || normalized === \"facebook\") return \"fb\";\n    if (normalized === \"web\" || normalized === \"website\") return \"web\";\n    return \"rss\"; // default to rss\n};\nconst mapLang = (langOriginal, titleAR, titleEN)=>{\n    const hasAR = !!titleAR || langOriginal === \"ar\";\n    const hasEN = !!titleEN || langOriginal === \"en\";\n    if (hasAR && hasEN) return \"both\";\n    if (hasAR) return \"ar\";\n    if (hasEN) return \"en\";\n    return langOriginal === \"ar\" ? \"ar\" : \"en\";\n};\nconst transformEvent = (event, langParam)=>{\n    const lang = mapLang(event.langOriginal, event.titleAR, event.titleEN);\n    // Filter by language if specified\n    if (langParam === \"en\" && lang === \"ar\") return null;\n    if (langParam === \"ar\" && lang === \"en\") return null;\n    // Determine title and text based on language preference\n    let title;\n    let text;\n    if (langParam === \"ar\" || !langParam && lang === \"ar\") {\n        title = event.titleAR || event.title;\n        text = event.bodyAR || event.summaryAR || event.text;\n    } else if (langParam === \"en\" || !langParam && lang === \"en\") {\n        title = event.titleEN || event.title;\n        text = event.bodyEN || event.summaryEN || event.text;\n    } else {\n        // For 'both' or no preference, prioritize English if available\n        title = event.titleEN || event.titleAR || event.title;\n        text = event.bodyEN || event.summaryEN || event.bodyAR || event.summaryAR || event.text;\n    }\n    // Combine tags, categories, and regions into tags array\n    const allTags = [];\n    // Add tags if available\n    if (event.tags && event.tags.length > 0) {\n        allTags.push(...event.tags);\n    }\n    // Add categories if available\n    if (event.categories && event.categories.length > 0) {\n        allTags.push(...event.categories);\n    }\n    // Add regions if available\n    if (event.regions && event.regions.length > 0) {\n        allTags.push(...event.regions);\n    }\n    const tags = allTags;\n    // Filter out posts with unknown sources\n    const sourceName = event.author_name || event.source_id;\n    if (!sourceName) {\n        return null; // Skip posts without a valid source\n    }\n    // Create author handle for X platform\n    let authorHandle;\n    if (event.platform === \"x\" && event.author_name) {\n        // Try to extract handle from author_name if it looks like a handle\n        if (event.author_name.startsWith(\"@\")) {\n            authorHandle = event.author_name;\n        } else {\n            // Create a handle-like format from source_id or author_name\n            authorHandle = event.source_id ? `@${event.source_id}` : undefined;\n        }\n    }\n    return {\n        id: event.id,\n        platform: mapPlatform(event.platform),\n        sourceName,\n        authorHandle,\n        title,\n        text,\n        url: event.url,\n        embedHtml: event.embed_html,\n        mediaThumbUrl: event.media_thumb_url,\n        publishedAt: event.published_at,\n        tags,\n        lang\n    };\n};\nasync function GET(request) {\n    const { searchParams } = new URL(request.url);\n    const limitParam = Math.max(1, Math.min(50, Number(searchParams.get(\"limit\")) || 12));\n    const offsetParam = Math.max(0, Number(searchParams.get(\"offset\")) || 0);\n    const langParam = searchParams.get(\"lang\");\n    const tagParam = searchParams.get(\"tag\");\n    const normalizedTag = normalize(tagParam);\n    const queryParam = normalize(searchParams.get(\"q\"));\n    try {\n        // Fetch all posts from external API by paginating through all pages\n        const allEvents = [];\n        let currentPage = 1;\n        let hasMorePages = true;\n        const perPage = 100; // Try higher limit first, API may support it\n        while(hasMorePages){\n            const apiUrl = new URL(\"https://dageega.duckdns.org/api/event\");\n            // Use the perPage limit, but API might cap it at 20\n            apiUrl.searchParams.set(\"limit\", String(perPage));\n            apiUrl.searchParams.set(\"page\", String(currentPage));\n            const response = await fetch(apiUrl.toString(), {\n                next: {\n                    revalidate: 60\n                } // Cache for 60 seconds\n            });\n            if (!response.ok) {\n                throw new Error(`API responded with status ${response.status}`);\n            }\n            const apiData = await response.json();\n            // Add events from this page\n            if (apiData.events && apiData.events.length > 0) {\n                allEvents.push(...apiData.events);\n            }\n            // Check if there are more pages\n            // The API returns the actual limit used in the response\n            const actualLimit = apiData.limit || apiData.events.length;\n            const totalAvailable = apiData.total || 0;\n            const totalFetched = allEvents.length;\n            // Stop if:\n            // 1. We got fewer events than requested (no more pages)\n            // 2. We've fetched all available events\n            // 3. We got 0 events on this page\n            if (apiData.events.length === 0 || apiData.events.length < actualLimit || totalAvailable > 0 && totalFetched >= totalAvailable) {\n                hasMorePages = false;\n            } else {\n                currentPage++;\n                // Safety limit: don't fetch more than 100 pages to prevent infinite loops\n                // (100 pages * 20 per page = 2000 posts max)\n                if (currentPage > 100) {\n                    hasMorePages = false;\n                }\n            }\n        }\n        // Transform events to Posts\n        let posts = allEvents.map((event)=>transformEvent(event, langParam)).filter((post)=>post !== null);\n        // Apply tag filter (case-insensitive exact matching)\n        if (normalizedTag) {\n            posts = posts.filter((post)=>post.tags.some((tag)=>{\n                    const normalizedPostTag = normalize(tag);\n                    // Exact match\n                    if (normalizedPostTag === normalizedTag) return true;\n                    // Handle variations like \"Blue Nile\" vs \"bluenile\" or \"blue-nile\"\n                    const cleanPostTag = normalizedPostTag.replace(/[\\s-]/g, \"\");\n                    const cleanFilterTag = normalizedTag.replace(/[\\s-]/g, \"\");\n                    return cleanPostTag === cleanFilterTag;\n                }));\n        }\n        // Apply query filter\n        if (queryParam) {\n            posts = posts.filter((post)=>{\n                const searchText = `${post.title ?? \"\"} ${post.text ?? \"\"} ${post.sourceName}`.toLowerCase();\n                return searchText.includes(queryParam);\n            });\n        }\n        // Sort by published date (newest first)\n        posts.sort((a, b)=>new Date(b.publishedAt).getTime() - new Date(a.publishedAt).getTime());\n        const total = posts.length;\n        const slice = posts.slice(offsetParam, offsetParam + limitParam);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            data: slice,\n            total,\n            limit: limitParam,\n            offset: offsetParam,\n            hasMore: offsetParam + limitParam < total\n        });\n    } catch (error) {\n        console.error(\"Error fetching posts:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch posts\",\n            message: error instanceof Error ? error.message : \"Unknown error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RXBELFdBQVcsRUFBRXVELE9BQU87UUFFeEYsTUFBTWxCLFFBQVFFLE1BQU12RCxNQUFNO1FBQzFCLE1BQU13RSxRQUFRakIsTUFBTWlCLEtBQUssQ0FBQzVDLGFBQWFBLGNBQWNOO1FBRXJELE9BQU8vQyxxREFBWUEsQ0FBQ3lFLElBQUksQ0FBQztZQUN2QnlCLE1BQU1EO1lBQ05uQjtZQUNBRixPQUFPN0I7WUFDUG9ELFFBQVE5QztZQUNSK0MsU0FBUy9DLGNBQWNOLGFBQWErQjtRQUN0QztJQUNGLEVBQUUsT0FBT3VCLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLHlCQUF5QkE7UUFDdkMsT0FBT3JHLHFEQUFZQSxDQUFDeUUsSUFBSSxDQUN0QjtZQUFFNEIsT0FBTztZQUF5QkUsU0FBU0YsaUJBQWlCL0IsUUFBUStCLE1BQU1FLE9BQU8sR0FBRztRQUFnQixHQUNwRztZQUFFaEMsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vbmUtbWludXRlLy4vc3JjL2FwcC9hcGkvcG9zdHMvcm91dGUudHM/YzkzMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuXG5pbXBvcnQgdHlwZSB7IFBvc3QsIFBsYXRmb3JtIH0gZnJvbSAnQC90eXBlcy9wb3N0JztcblxudHlwZSBBcGlFdmVudCA9IHtcbiAgaWQ6IHN0cmluZztcbiAgcGxhdGZvcm06IHN0cmluZztcbiAgc291cmNlX2lkPzogc3RyaW5nO1xuICBhdXRob3JfbmFtZT86IHN0cmluZztcbiAgdGl0bGU/OiBzdHJpbmc7XG4gIHRleHQ/OiBzdHJpbmc7XG4gIHVybDogc3RyaW5nO1xuICBlbWJlZF9odG1sPzogc3RyaW5nIHwgbnVsbDtcbiAgbWVkaWFfdGh1bWJfdXJsPzogc3RyaW5nIHwgbnVsbDtcbiAgcHVibGlzaGVkX2F0OiBzdHJpbmc7XG4gIHRhZ3M/OiBzdHJpbmdbXTtcbiAgbGFuZ09yaWdpbmFsPzogc3RyaW5nO1xuICB0aXRsZUFSPzogc3RyaW5nO1xuICB0aXRsZUVOPzogc3RyaW5nO1xuICBzdW1tYXJ5QVI/OiBzdHJpbmc7XG4gIHN1bW1hcnlFTj86IHN0cmluZztcbiAgYm9keUFSPzogc3RyaW5nO1xuICBib2R5RU4/OiBzdHJpbmc7XG4gIGNhdGVnb3JpZXM/OiBzdHJpbmdbXTtcbiAgcmVnaW9ucz86IHN0cmluZ1tdO1xufTtcblxudHlwZSBBcGlSZXNwb25zZSA9IHtcbiAgc3RhdHVzOiBzdHJpbmc7XG4gIHBhZ2U6IG51bWJlcjtcbiAgbGltaXQ6IG51bWJlcjtcbiAgdG90YWw6IG51bWJlcjtcbiAgZXZlbnRzOiBBcGlFdmVudFtdO1xufTtcblxuY29uc3Qgbm9ybWFsaXplID0gKHZhbHVlOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkKSA9PiAodmFsdWUgPyB2YWx1ZS50b0xvd2VyQ2FzZSgpIDogbnVsbCk7XG5cbmNvbnN0IG1hcFBsYXRmb3JtID0gKHBsYXRmb3JtOiBzdHJpbmcpOiBQbGF0Zm9ybSA9PiB7XG4gIGNvbnN0IG5vcm1hbGl6ZWQgPSBwbGF0Zm9ybS50b0xvd2VyQ2FzZSgpO1xuICBpZiAobm9ybWFsaXplZCA9PT0gJ3gnIHx8IG5vcm1hbGl6ZWQgPT09ICd0d2l0dGVyJykgcmV0dXJuICd4JztcbiAgaWYgKG5vcm1hbGl6ZWQgPT09ICd5dCcgfHwgbm9ybWFsaXplZCA9PT0gJ3lvdXR1YmUnKSByZXR1cm4gJ3l0JztcbiAgaWYgKG5vcm1hbGl6ZWQgPT09ICdpZycgfHwgbm9ybWFsaXplZCA9PT0gJ2luc3RhZ3JhbScpIHJldHVybiAnaWcnO1xuICBpZiAobm9ybWFsaXplZCA9PT0gJ2ZiJyB8fCBub3JtYWxpemVkID09PSAnZmFjZWJvb2snKSByZXR1cm4gJ2ZiJztcbiAgaWYgKG5vcm1hbGl6ZWQgPT09ICd3ZWInIHx8IG5vcm1hbGl6ZWQgPT09ICd3ZWJzaXRlJykgcmV0dXJuICd3ZWInO1xuICByZXR1cm4gJ3Jzcyc7IC8vIGRlZmF1bHQgdG8gcnNzXG59O1xuXG5jb25zdCBtYXBMYW5nID0gKGxhbmdPcmlnaW5hbD86IHN0cmluZywgdGl0bGVBUj86IHN0cmluZywgdGl0bGVFTj86IHN0cmluZyk6ICdhcicgfCAnZW4nIHwgJ2JvdGgnID0+IHtcbiAgY29uc3QgaGFzQVIgPSAhIXRpdGxlQVIgfHwgbGFuZ09yaWdpbmFsID09PSAnYXInO1xuICBjb25zdCBoYXNFTiA9ICEhdGl0bGVFTiB8fCBsYW5nT3JpZ2luYWwgPT09ICdlbic7XG4gIFxuICBpZiAoaGFzQVIgJiYgaGFzRU4pIHJldHVybiAnYm90aCc7XG4gIGlmIChoYXNBUikgcmV0dXJuICdhcic7XG4gIGlmIChoYXNFTikgcmV0dXJuICdlbic7XG4gIHJldHVybiBsYW5nT3JpZ2luYWwgPT09ICdhcicgPyAnYXInIDogJ2VuJztcbn07XG5cbmNvbnN0IHRyYW5zZm9ybUV2ZW50ID0gKGV2ZW50OiBBcGlFdmVudCwgbGFuZ1BhcmFtPzogc3RyaW5nIHwgbnVsbCk6IFBvc3QgfCBudWxsID0+IHtcbiAgY29uc3QgbGFuZyA9IG1hcExhbmcoZXZlbnQubGFuZ09yaWdpbmFsLCBldmVudC50aXRsZUFSLCBldmVudC50aXRsZUVOKTtcbiAgXG4gIC8vIEZpbHRlciBieSBsYW5ndWFnZSBpZiBzcGVjaWZpZWRcbiAgaWYgKGxhbmdQYXJhbSA9PT0gJ2VuJyAmJiBsYW5nID09PSAnYXInKSByZXR1cm4gbnVsbDtcbiAgaWYgKGxhbmdQYXJhbSA9PT0gJ2FyJyAmJiBsYW5nID09PSAnZW4nKSByZXR1cm4gbnVsbDtcblxuICAvLyBEZXRlcm1pbmUgdGl0bGUgYW5kIHRleHQgYmFzZWQgb24gbGFuZ3VhZ2UgcHJlZmVyZW5jZVxuICBsZXQgdGl0bGU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgbGV0IHRleHQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICBpZiAobGFuZ1BhcmFtID09PSAnYXInIHx8ICghbGFuZ1BhcmFtICYmIGxhbmcgPT09ICdhcicpKSB7XG4gICAgdGl0bGUgPSBldmVudC50aXRsZUFSIHx8IGV2ZW50LnRpdGxlO1xuICAgIHRleHQgPSBldmVudC5ib2R5QVIgfHwgZXZlbnQuc3VtbWFyeUFSIHx8IGV2ZW50LnRleHQ7XG4gIH0gZWxzZSBpZiAobGFuZ1BhcmFtID09PSAnZW4nIHx8ICghbGFuZ1BhcmFtICYmIGxhbmcgPT09ICdlbicpKSB7XG4gICAgdGl0bGUgPSBldmVudC50aXRsZUVOIHx8IGV2ZW50LnRpdGxlO1xuICAgIHRleHQgPSBldmVudC5ib2R5RU4gfHwgZXZlbnQuc3VtbWFyeUVOIHx8IGV2ZW50LnRleHQ7XG4gIH0gZWxzZSB7XG4gICAgLy8gRm9yICdib3RoJyBvciBubyBwcmVmZXJlbmNlLCBwcmlvcml0aXplIEVuZ2xpc2ggaWYgYXZhaWxhYmxlXG4gICAgdGl0bGUgPSBldmVudC50aXRsZUVOIHx8IGV2ZW50LnRpdGxlQVIgfHwgZXZlbnQudGl0bGU7XG4gICAgdGV4dCA9IGV2ZW50LmJvZHlFTiB8fCBldmVudC5zdW1tYXJ5RU4gfHwgZXZlbnQuYm9keUFSIHx8IGV2ZW50LnN1bW1hcnlBUiB8fCBldmVudC50ZXh0O1xuICB9XG5cbiAgLy8gQ29tYmluZSB0YWdzLCBjYXRlZ29yaWVzLCBhbmQgcmVnaW9ucyBpbnRvIHRhZ3MgYXJyYXlcbiAgY29uc3QgYWxsVGFnczogc3RyaW5nW10gPSBbXTtcbiAgXG4gIC8vIEFkZCB0YWdzIGlmIGF2YWlsYWJsZVxuICBpZiAoZXZlbnQudGFncyAmJiBldmVudC50YWdzLmxlbmd0aCA+IDApIHtcbiAgICBhbGxUYWdzLnB1c2goLi4uZXZlbnQudGFncyk7XG4gIH1cbiAgXG4gIC8vIEFkZCBjYXRlZ29yaWVzIGlmIGF2YWlsYWJsZVxuICBpZiAoZXZlbnQuY2F0ZWdvcmllcyAmJiBldmVudC5jYXRlZ29yaWVzLmxlbmd0aCA+IDApIHtcbiAgICBhbGxUYWdzLnB1c2goLi4uZXZlbnQuY2F0ZWdvcmllcyk7XG4gIH1cbiAgXG4gIC8vIEFkZCByZWdpb25zIGlmIGF2YWlsYWJsZVxuICBpZiAoZXZlbnQucmVnaW9ucyAmJiBldmVudC5yZWdpb25zLmxlbmd0aCA+IDApIHtcbiAgICBhbGxUYWdzLnB1c2goLi4uZXZlbnQucmVnaW9ucyk7XG4gIH1cbiAgXG4gIGNvbnN0IHRhZ3MgPSBhbGxUYWdzO1xuXG4gIC8vIEZpbHRlciBvdXQgcG9zdHMgd2l0aCB1bmtub3duIHNvdXJjZXNcbiAgY29uc3Qgc291cmNlTmFtZSA9IGV2ZW50LmF1dGhvcl9uYW1lIHx8IGV2ZW50LnNvdXJjZV9pZDtcbiAgaWYgKCFzb3VyY2VOYW1lKSB7XG4gICAgcmV0dXJuIG51bGw7IC8vIFNraXAgcG9zdHMgd2l0aG91dCBhIHZhbGlkIHNvdXJjZVxuICB9XG5cbiAgLy8gQ3JlYXRlIGF1dGhvciBoYW5kbGUgZm9yIFggcGxhdGZvcm1cbiAgbGV0IGF1dGhvckhhbmRsZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBpZiAoZXZlbnQucGxhdGZvcm0gPT09ICd4JyAmJiBldmVudC5hdXRob3JfbmFtZSkge1xuICAgIC8vIFRyeSB0byBleHRyYWN0IGhhbmRsZSBmcm9tIGF1dGhvcl9uYW1lIGlmIGl0IGxvb2tzIGxpa2UgYSBoYW5kbGVcbiAgICBpZiAoZXZlbnQuYXV0aG9yX25hbWUuc3RhcnRzV2l0aCgnQCcpKSB7XG4gICAgICBhdXRob3JIYW5kbGUgPSBldmVudC5hdXRob3JfbmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ3JlYXRlIGEgaGFuZGxlLWxpa2UgZm9ybWF0IGZyb20gc291cmNlX2lkIG9yIGF1dGhvcl9uYW1lXG4gICAgICBhdXRob3JIYW5kbGUgPSBldmVudC5zb3VyY2VfaWQgPyBgQCR7ZXZlbnQuc291cmNlX2lkfWAgOiB1bmRlZmluZWQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpZDogZXZlbnQuaWQsXG4gICAgcGxhdGZvcm06IG1hcFBsYXRmb3JtKGV2ZW50LnBsYXRmb3JtKSxcbiAgICBzb3VyY2VOYW1lLFxuICAgIGF1dGhvckhhbmRsZSxcbiAgICB0aXRsZSxcbiAgICB0ZXh0LFxuICAgIHVybDogZXZlbnQudXJsLFxuICAgIGVtYmVkSHRtbDogZXZlbnQuZW1iZWRfaHRtbCxcbiAgICBtZWRpYVRodW1iVXJsOiBldmVudC5tZWRpYV90aHVtYl91cmwsXG4gICAgcHVibGlzaGVkQXQ6IGV2ZW50LnB1Ymxpc2hlZF9hdCxcbiAgICB0YWdzLFxuICAgIGxhbmdcbiAgfTtcbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICBjb25zdCBsaW1pdFBhcmFtID0gTWF0aC5tYXgoMSwgTWF0aC5taW4oNTAsIE51bWJlcihzZWFyY2hQYXJhbXMuZ2V0KCdsaW1pdCcpKSB8fCAxMikpO1xuICBjb25zdCBvZmZzZXRQYXJhbSA9IE1hdGgubWF4KDAsIE51bWJlcihzZWFyY2hQYXJhbXMuZ2V0KCdvZmZzZXQnKSkgfHwgMCk7XG4gIGNvbnN0IGxhbmdQYXJhbSA9IHNlYXJjaFBhcmFtcy5nZXQoJ2xhbmcnKTtcbiAgY29uc3QgdGFnUGFyYW0gPSBzZWFyY2hQYXJhbXMuZ2V0KCd0YWcnKTtcbiAgY29uc3Qgbm9ybWFsaXplZFRhZyA9IG5vcm1hbGl6ZSh0YWdQYXJhbSk7XG4gIGNvbnN0IHF1ZXJ5UGFyYW0gPSBub3JtYWxpemUoc2VhcmNoUGFyYW1zLmdldCgncScpKTtcblxuICB0cnkge1xuICAgIC8vIEZldGNoIGFsbCBwb3N0cyBmcm9tIGV4dGVybmFsIEFQSSBieSBwYWdpbmF0aW5nIHRocm91Z2ggYWxsIHBhZ2VzXG4gICAgY29uc3QgYWxsRXZlbnRzOiBBcGlFdmVudFtdID0gW107XG4gICAgbGV0IGN1cnJlbnRQYWdlID0gMTtcbiAgICBsZXQgaGFzTW9yZVBhZ2VzID0gdHJ1ZTtcbiAgICBjb25zdCBwZXJQYWdlID0gMTAwOyAvLyBUcnkgaGlnaGVyIGxpbWl0IGZpcnN0LCBBUEkgbWF5IHN1cHBvcnQgaXRcblxuICAgIHdoaWxlIChoYXNNb3JlUGFnZXMpIHtcbiAgICAgIGNvbnN0IGFwaVVybCA9IG5ldyBVUkwoJ2h0dHBzOi8vZGFnZWVnYS5kdWNrZG5zLm9yZy9hcGkvZXZlbnQnKTtcbiAgICAgIC8vIFVzZSB0aGUgcGVyUGFnZSBsaW1pdCwgYnV0IEFQSSBtaWdodCBjYXAgaXQgYXQgMjBcbiAgICAgIGFwaVVybC5zZWFyY2hQYXJhbXMuc2V0KCdsaW1pdCcsIFN0cmluZyhwZXJQYWdlKSk7XG4gICAgICBhcGlVcmwuc2VhcmNoUGFyYW1zLnNldCgncGFnZScsIFN0cmluZyhjdXJyZW50UGFnZSkpO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGFwaVVybC50b1N0cmluZygpLCB7XG4gICAgICAgIG5leHQ6IHsgcmV2YWxpZGF0ZTogNjAgfSAvLyBDYWNoZSBmb3IgNjAgc2Vjb25kc1xuICAgICAgfSk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBUEkgcmVzcG9uZGVkIHdpdGggc3RhdHVzICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBhcGlEYXRhID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSkgYXMgQXBpUmVzcG9uc2U7XG4gICAgICBcbiAgICAgIC8vIEFkZCBldmVudHMgZnJvbSB0aGlzIHBhZ2VcbiAgICAgIGlmIChhcGlEYXRhLmV2ZW50cyAmJiBhcGlEYXRhLmV2ZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGFsbEV2ZW50cy5wdXNoKC4uLmFwaURhdGEuZXZlbnRzKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgYXJlIG1vcmUgcGFnZXNcbiAgICAgIC8vIFRoZSBBUEkgcmV0dXJucyB0aGUgYWN0dWFsIGxpbWl0IHVzZWQgaW4gdGhlIHJlc3BvbnNlXG4gICAgICBjb25zdCBhY3R1YWxMaW1pdCA9IGFwaURhdGEubGltaXQgfHwgYXBpRGF0YS5ldmVudHMubGVuZ3RoO1xuICAgICAgY29uc3QgdG90YWxBdmFpbGFibGUgPSBhcGlEYXRhLnRvdGFsIHx8IDA7XG4gICAgICBjb25zdCB0b3RhbEZldGNoZWQgPSBhbGxFdmVudHMubGVuZ3RoO1xuICAgICAgXG4gICAgICAvLyBTdG9wIGlmOlxuICAgICAgLy8gMS4gV2UgZ290IGZld2VyIGV2ZW50cyB0aGFuIHJlcXVlc3RlZCAobm8gbW9yZSBwYWdlcylcbiAgICAgIC8vIDIuIFdlJ3ZlIGZldGNoZWQgYWxsIGF2YWlsYWJsZSBldmVudHNcbiAgICAgIC8vIDMuIFdlIGdvdCAwIGV2ZW50cyBvbiB0aGlzIHBhZ2VcbiAgICAgIGlmIChhcGlEYXRhLmV2ZW50cy5sZW5ndGggPT09IDAgfHwgXG4gICAgICAgICAgYXBpRGF0YS5ldmVudHMubGVuZ3RoIDwgYWN0dWFsTGltaXQgfHwgXG4gICAgICAgICAgKHRvdGFsQXZhaWxhYmxlID4gMCAmJiB0b3RhbEZldGNoZWQgPj0gdG90YWxBdmFpbGFibGUpKSB7XG4gICAgICAgIGhhc01vcmVQYWdlcyA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudFBhZ2UrKztcbiAgICAgICAgLy8gU2FmZXR5IGxpbWl0OiBkb24ndCBmZXRjaCBtb3JlIHRoYW4gMTAwIHBhZ2VzIHRvIHByZXZlbnQgaW5maW5pdGUgbG9vcHNcbiAgICAgICAgLy8gKDEwMCBwYWdlcyAqIDIwIHBlciBwYWdlID0gMjAwMCBwb3N0cyBtYXgpXG4gICAgICAgIGlmIChjdXJyZW50UGFnZSA+IDEwMCkge1xuICAgICAgICAgIGhhc01vcmVQYWdlcyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVHJhbnNmb3JtIGV2ZW50cyB0byBQb3N0c1xuICAgIGxldCBwb3N0cyA9IGFsbEV2ZW50c1xuICAgICAgLm1hcCgoZXZlbnQpID0+IHRyYW5zZm9ybUV2ZW50KGV2ZW50LCBsYW5nUGFyYW0pKVxuICAgICAgLmZpbHRlcigocG9zdCk6IHBvc3QgaXMgUG9zdCA9PiBwb3N0ICE9PSBudWxsKTtcblxuICAgIC8vIEFwcGx5IHRhZyBmaWx0ZXIgKGNhc2UtaW5zZW5zaXRpdmUgZXhhY3QgbWF0Y2hpbmcpXG4gICAgaWYgKG5vcm1hbGl6ZWRUYWcpIHtcbiAgICAgIHBvc3RzID0gcG9zdHMuZmlsdGVyKChwb3N0KSA9PlxuICAgICAgICBwb3N0LnRhZ3Muc29tZSgodGFnKSA9PiB7XG4gICAgICAgICAgY29uc3Qgbm9ybWFsaXplZFBvc3RUYWcgPSBub3JtYWxpemUodGFnKTtcbiAgICAgICAgICAvLyBFeGFjdCBtYXRjaFxuICAgICAgICAgIGlmIChub3JtYWxpemVkUG9zdFRhZyA9PT0gbm9ybWFsaXplZFRhZykgcmV0dXJuIHRydWU7XG4gICAgICAgICAgLy8gSGFuZGxlIHZhcmlhdGlvbnMgbGlrZSBcIkJsdWUgTmlsZVwiIHZzIFwiYmx1ZW5pbGVcIiBvciBcImJsdWUtbmlsZVwiXG4gICAgICAgICAgY29uc3QgY2xlYW5Qb3N0VGFnID0gbm9ybWFsaXplZFBvc3RUYWcucmVwbGFjZSgvW1xccy1dL2csICcnKTtcbiAgICAgICAgICBjb25zdCBjbGVhbkZpbHRlclRhZyA9IG5vcm1hbGl6ZWRUYWcucmVwbGFjZSgvW1xccy1dL2csICcnKTtcbiAgICAgICAgICByZXR1cm4gY2xlYW5Qb3N0VGFnID09PSBjbGVhbkZpbHRlclRhZztcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gQXBwbHkgcXVlcnkgZmlsdGVyXG4gICAgaWYgKHF1ZXJ5UGFyYW0pIHtcbiAgICAgIHBvc3RzID0gcG9zdHMuZmlsdGVyKChwb3N0KSA9PiB7XG4gICAgICAgIGNvbnN0IHNlYXJjaFRleHQgPSBgJHtwb3N0LnRpdGxlID8/ICcnfSAke3Bvc3QudGV4dCA/PyAnJ30gJHtwb3N0LnNvdXJjZU5hbWV9YC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICByZXR1cm4gc2VhcmNoVGV4dC5pbmNsdWRlcyhxdWVyeVBhcmFtKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFNvcnQgYnkgcHVibGlzaGVkIGRhdGUgKG5ld2VzdCBmaXJzdClcbiAgICBwb3N0cy5zb3J0KChhLCBiKSA9PiBuZXcgRGF0ZShiLnB1Ymxpc2hlZEF0KS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShhLnB1Ymxpc2hlZEF0KS5nZXRUaW1lKCkpO1xuXG4gICAgY29uc3QgdG90YWwgPSBwb3N0cy5sZW5ndGg7XG4gICAgY29uc3Qgc2xpY2UgPSBwb3N0cy5zbGljZShvZmZzZXRQYXJhbSwgb2Zmc2V0UGFyYW0gKyBsaW1pdFBhcmFtKTtcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBkYXRhOiBzbGljZSxcbiAgICAgIHRvdGFsLFxuICAgICAgbGltaXQ6IGxpbWl0UGFyYW0sXG4gICAgICBvZmZzZXQ6IG9mZnNldFBhcmFtLFxuICAgICAgaGFzTW9yZTogb2Zmc2V0UGFyYW0gKyBsaW1pdFBhcmFtIDwgdG90YWxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwb3N0czonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCBwb3N0cycsIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwibm9ybWFsaXplIiwidmFsdWUiLCJ0b0xvd2VyQ2FzZSIsIm1hcFBsYXRmb3JtIiwicGxhdGZvcm0iLCJub3JtYWxpemVkIiwibWFwTGFuZyIsImxhbmdPcmlnaW5hbCIsInRpdGxlQVIiLCJ0aXRsZUVOIiwiaGFzQVIiLCJoYXNFTiIsInRyYW5zZm9ybUV2ZW50IiwiZXZlbnQiLCJsYW5nUGFyYW0iLCJsYW5nIiwidGl0bGUiLCJ0ZXh0IiwiYm9keUFSIiwic3VtbWFyeUFSIiwiYm9keUVOIiwic3VtbWFyeUVOIiwiYWxsVGFncyIsInRhZ3MiLCJsZW5ndGgiLCJwdXNoIiwiY2F0ZWdvcmllcyIsInJlZ2lvbnMiLCJzb3VyY2VOYW1lIiwiYXV0aG9yX25hbWUiLCJzb3VyY2VfaWQiLCJhdXRob3JIYW5kbGUiLCJzdGFydHNXaXRoIiwidW5kZWZpbmVkIiwiaWQiLCJ1cmwiLCJlbWJlZEh0bWwiLCJlbWJlZF9odG1sIiwibWVkaWFUaHVtYlVybCIsIm1lZGlhX3RodW1iX3VybCIsInB1Ymxpc2hlZEF0IiwicHVibGlzaGVkX2F0IiwiR0VUIiwicmVxdWVzdCIsInNlYXJjaFBhcmFtcyIsIlVSTCIsImxpbWl0UGFyYW0iLCJNYXRoIiwibWF4IiwibWluIiwiTnVtYmVyIiwiZ2V0Iiwib2Zmc2V0UGFyYW0iLCJ0YWdQYXJhbSIsIm5vcm1hbGl6ZWRUYWciLCJxdWVyeVBhcmFtIiwiYWxsRXZlbnRzIiwiY3VycmVudFBhZ2UiLCJoYXNNb3JlUGFnZXMiLCJwZXJQYWdlIiwiYXBpVXJsIiwic2V0IiwiU3RyaW5nIiwicmVzcG9uc2UiLCJmZXRjaCIsInRvU3RyaW5nIiwibmV4dCIsInJldmFsaWRhdGUiLCJvayIsIkVycm9yIiwic3RhdHVzIiwiYXBpRGF0YSIsImpzb24iLCJldmVudHMiLCJhY3R1YWxMaW1pdCIsImxpbWl0IiwidG90YWxBdmFpbGFibGUiLCJ0b3RhbCIsInRvdGFsRmV0Y2hlZCIsInBvc3RzIiwibWFwIiwiZmlsdGVyIiwicG9zdCIsInNvbWUiLCJ0YWciLCJub3JtYWxpemVkUG9zdFRhZyIsImNsZWFuUG9zdFRhZyIsInJlcGxhY2UiLCJjbGVhbkZpbHRlclRhZyIsInNlYXJjaFRleHQiLCJpbmNsdWRlcyIsInNvcnQiLCJhIiwiYiIsIkRhdGUiLCJnZXRUaW1lIiwic2xpY2UiLCJkYXRhIiwib2Zmc2V0IiwiaGFzTW9yZSIsImVycm9yIiwiY29uc29sZSIsIm1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/posts/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fposts%2Froute&page=%2Fapi%2Fposts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fposts%2Froute.ts&appDir=%2FUsers%2Fabuzaid%2FDesktop%2F1m%2Fone-minute%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fabuzaid%2FDesktop%2F1m%2Fone-minute&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();